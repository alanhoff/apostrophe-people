{% extends "layout.html" %}

{% include "blogMacros.html" %}

{% block bodyClass %}{{ super() }} apos-blog-page{% endblock %}

{# Output the current content of the page, with buttons to edit it #}

{% block mainContent %}

  <div class="column">

    {% if page.children.length %}
      <div class="column-element">

        {% block subnav %}
          <div class="subnavigation">
            <h4>Subpages</h4>
            <p>Blog posts have tags, and that means you can create a blog subpage that only shows a certain set of tags. Try it out!</p>
            <ol class="children">
            {% for relative in page.children %}
              <li><a href="{{ relative.url }}">{{ relative.title | e }}</a></li>
            {% endfor %}
            </ol>
          </div>
        {% endblock %}

      </div>
    {% endif %}

    <div class="column-element apos-area-sidebar">
      {{ aposArea({ slug: slug + ":sidebar", area: page.areas.sidebar, edit: edit }) }}
    </div>

  </div>

  <div class="column-2">
    <div class="apos-blog-posts">
      {{ renderBlogPostPreviews(items, page.url) }}
    </div>
  </div>

{% endblock %}